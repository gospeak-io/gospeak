@import fr.gospeak.core.domain.{Group, Partner, Venue}
@import fr.gospeak.web.api.ui.routes.SuggestCtrl
@import fr.gospeak.web.pages.partials.form.html._

@(form: Form[Venue.Data], group: Group, settings: Group.Settings, partner: Option[Partner])(implicit messages: Messages)
@fieldHorizontal(form("address"), Seq("label" -> "Address", "help" -> "Address of the venue")) { (field, args) =>
    @inputGMapPlace(field, Seq("autofocus" -> "true") ++ args)
}
@partner.map { p =>
    @inputHidden(form("partner"), Seq("value" -> p.id.value))
}.getOrElse {
    @fieldHorizontal(form("partner"), Seq("label" -> "Partner")) { (field, args) =>
        @inputSelect(field, Seq(), Seq("placeholder" -> "", "remote" -> SuggestCtrl.partners(group.slug).toString) ++ args)
    }
}
@fieldHorizontal(form("description"), Seq("label" -> "Description", "help" -> "Some details about this partner")) { (field, args) =>
    @inputMarkdown(field, args)
}
@fieldHorizontal(form("roomSize"), Seq("label" -> "Room size")) { (field, args) =>
    @inputNumber(field, args)
}
@if(settings.accounts.meetup.isDefined) {
    @fieldHorizontal(form("refs.meetup"), Seq("label" -> "Meetup reference", "help" -> "References of this venue in Meetup.com")) { (field, args) =>
        <div class="row">
            <div class="col-6">@inputText(field("group"), Seq("placeholder" -> "Group url name name", "optional" -> "true") ++ args)</div>
            <div class="col-6">@inputNumber(field("venue"), Seq("placeholder" -> "Venue id", "optional" -> "true") ++ args)</div>
        </div>
    }
}

