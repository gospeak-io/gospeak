@import gospeak.core.domain.{ExternalEvent, Talk}
@import gospeak.libs.scala.domain.Page
@import gospeak.web.domain.Breadcrumb
@import gospeak.web.pages.user.partials.html.container
@import gospeak.web.utils.UserReq
@import gospeak.web.pages.user.talks.routes.TalkCtrl
@import gospeak.web.utils.Formats

@(talk: Talk, events: Page[ExternalEvent])(b: Breadcrumb)(implicit req: UserReq[AnyContent])
@eventItem(event: ExternalEvent) = {
    <div>@event.name.value</div>
}
@container(s"'${talk.title.value}' - Gospeak", b)() {
    <div class="d-flex justify-content-between align-items-center">
        <h1>Find the event you talked</h1>
        <a class="btn btn-primary" href="@TalkCtrl.createExternalEvent(talk.slug)">Add new event</a>
    </div>

    @Formats.paginated[ExternalEvent](events, TalkCtrl.findExternalEvent(talk.slug, _), eventItem)
}()
